## Операторы ветвления, выбора и организации циклов.
~~N3~~  
В данном и следующих билетах буду использовать "~~N3~~" для замечаний, как учил Александр Игоревич.  

Для реализации ветвления в **Си** используется две основные конструкции:
+ оператор выбора `switch`
+ условный оператор `if - else`   

### Оператор выбора (переключатель) switch
Оператор выбора `switch` позволяет выбрать один из нескольких заранее определённых вариантов. 
В этом случае у каждого варианта должна иметься своя отличительная черта.  
 
Условный оператор `if – else` позволяет выполнять те или иные команды в зависимости от выполнения некоторого условия, 
которое программист может задать самостоятельно.  
#### Шаблон оператора switch
Общий шаблон для оператора switch:
````C
switch (выражение) {
  case ключ_1: операторы_1 
  case ключ_2: операторы_2
  case ключ_3: операторы_3
  case ключ_4: операторы_4

  default: операторы_стандарт
}   

````
Работает он следующим образом:  
Вычисляется, если необходимо, выражение, записанное в скобках. Именно от значения этого выражения зависит, 
какая из ветвей программы будет выполняться.     

~~N3~~   
В качестве выражения может использоваться переменная типа `int`, переменная типа `char` или любое выражение, 
результат которого будет иметь данные типы.    
````C
 int i, j;
 char ch;
 double d;
 
 switch (i)        //Правильно (целая переменная)
 switch ((i + j + 228) % 69)  //Правильно (выражение целого типа)
 switch (d)        //Неправильно (вещественная переменная)
 switch (ch)        //Правильно (символьная переменная)
````
После того как выражение вычислено, его результат проверяется на соответствие с _ключ_i_    
Если выражение и какой-нибудь ключ совпали, то выполняются операторы, которые расположены после данного ключа.  

~~N3~~   
Внимательно следите за тем, чтобы у каждой ветки `case` был свой уникальный ключ.     
Если совпадений не обнаружено, то выполняются операторы, записанные в ветке `default`.  

Теперь разберём на примере:
````C
#include <stdio.h>

int main(void) { 
  
    printf("Выберите правильный вариант ответа. По какому предмету тебя отправят на пересдачу?:\n");
    printf("  a. Парадигмы\n");
    printf("  b. Матан\n");
    printf("  c. Си\n");
    printf("  d. Дискретка\n");
    printf("  e. Алгосы\n");
    printf("  f. Линал\n");
  
    char answer; 
    printf("Введите ваш вариант ответа: ");
    scanf("%c",&answer);

    switch (answer) {
        case 'a': printf("Очень жаль, вы проиграли!!\n");
        case 'b': printf("А вот в Макаровке студенты всё за один семестр усваивает, не то что дауны КТшники!\n");
        case 'c': printf("Вас и на пивоварение не возьмут!\n");
        case 'd': printf("Увидимся через год!\n");
        case 'e': printf("Вы просто не Маша Тукалло!\n");
        case 'f': printf("Этот экзамен стыдно не сдать, тут и спинного мозга хватит!\n");
        default: printf("Гений!\n");
  }

  return 0;
}
````
####    Оператор break
Теперь давайте запустим нашу программу и введем "а":    
**Получим:**
````C
Очень жаль, вы проиграли!
А вот в Макаровке студенты всё за один семестр усваивает, не то что дауны КТшники!
Вас и на пивоварение не возьмут!
Увидимся через год!
Вы просто не Маша Тукалло!
Этот экзамен стыдно не сдать, тут и спинного мозга хватит!
Гений!
````
Ууппс… Не ожидали? А я ожидал. Это одна из особенностей оператора switch, 
эта особенность называется сквозное выполнение. 
    
После того как нашлось совпадение в одной из веток case, 
если явно не указан выход из оператора switch, то выполнятся последовательно все остальные ветки, 
записанные в коде после той, в которой произошло совпадение. 
Если в какой-то из них будет оператор выхода, то выполнение оператора switch завершится.

В нашем случае мы ввели символ "a", программа выполнила первую ветку, и т.к. нет оператора выхода, 
то стали выполняться остальные ветки. При этом проверка на совпадение с ключами этих веток игнорируются. 
Иногда можно использовать эту особенность для пользы.   

Теперь об операторе безусловного выхода `break`. 
Данный оператор завершает выполнение ближайшего к нему оператора switch, в котором он расположен.   

Давайте добавим этот оператор в нашу программу.
````C
#include <stdio.h>

int main(void) { 
  
    printf("Выберите правильный вариант ответа. По какому предмету тебя отправят на пересдачу?:\n");
    printf("  a. Парадигмы\n");
    printf("  b. Матан\n");
    printf("  c. Си\n");
    printf("  d. Дискретка\n");
    printf("  e. Алгосы\n");
    printf("  f. Линал\n");
  
    char answer; 
    printf("Введите ваш вариант ответа: ");
    scanf("%c",&answer);

    switch (answer) {
        case 'a': printf("Очень жаль, вы проиграли!!\n"); break;
        case 'b': printf("А вот в Макаровке студенты всё за один семестр усваивает, не то что дауны КТшники!\n"); break;
        case 'c': printf("Вас и на пивоварение не возьмут!\n"); break;
        case 'd': printf("Увидимся через год!\n"); break;
        case 'e': printf("Вы просто не Маша Тукалло!\n"); break;
        case 'f': printf("Этот экзамен стыдно не сдать, тут и спинного мозга хватит!\n"); break;
        default: printf("Гений!\n"); break;
  }

  return 0;
}
````
Теперь всё работает как надо. Рассмотрим пару нюансов.

~~N3~~   
1.  Ветви case оператора switch можно разместить в любом порядке.
1.  Ветка default необязательна.
1.  И последнее. Операторы switch могут быть вложенными. 
В любой ветке оператора switch вы снова можете использовать новый оператор switch. 
Вот небольшой пример. Следующая программа определяет делится ли введённое число на 6.
````C
#include <stdio.h>

int main(void) {  
  int num = 0;  
  scanf("%d",&num);

  switch (num % 3) {
    case 0 : 
      switch (num % 2) {
        case 0 : printf("Yes!\n"); break;
        case 1 : printf("No!\n"); break;
      }
      break;
    case 1 :
    case 2 : printf("Yes!\n"); break;
  }

  return 0;
}
````
~~N3~~   
Внутри оператора выбора `switch` не обязательно должны быть только `case`.
Например с помощью `switch` мы можем развернуть цикл:
````C
#include <stdio.h>

int r = 0;

void f() {
    r++;
    printf("%i\n", r);
}

void cycle(unsigned int x) {
    unsigned int y = (x + 3) / 4;
    switch (x % 4) {
        case 0:
            do {
                f();
                case 3:
                    f();
                case 2:
                    f();
                case 1:
                    f();
            } while (--y);
    }
}

int main() {
    cycle(17);
    return 0;
}
````
Данная программа выведет все числа от 1 до 17.

### Условный оператор if - else
Условный оператор `if` используется для разветвления процесса обработки данных на два направления.  
#### Шаблон оператора if - else
````C
// первый вариант
if (условное_выражение)
  оператор_1;
  
// второй вариант
if (условное_выражение)
  оператор_1;
else
  оператор_2;
````
Разберемся теперь на примере:
Допустим вы хотите решить идти ли вам на пару, и вы придумали как решить этот вопрос:
Выпадает решка (0) - не идёте, орёл (все остальные значения) - перекидываете.
````C
void f(int a) {
    if (a == 0)
        goHome();
    else
        f(newValue(a));
}
````
goHome - функция отвечающая за поход домой.     
newValue - генерирует новое случайное значение. 

~~N3~~   
1.  В каждой ветке условного оператора может быть записан лишь ОДИН оператор.   
Сейчас я думаю у вас возник конфуз: как это один? Я же каждый раз в `if` использую несколько операторов.    
И правильный ответ - **А вот так:**  
Вы используете один единственный составной оператор `{}`. 
В него как раз-таки вы и заключаете несколько операторов.
1.  Внутри управляющей конструкций `if-else` можно использовать любые конструкции языка, 
в том числе ещё одну конструкцию `if-else`.   
1.  `else` всегда относится к ближайшему `if`, у которого нет своего `else`.    
1.  Разберём такую конструкцию: 
````C
if (условное_выражение)
  оператор_1;
else if (условное выражение)
  оператор_3;
````
На самом деле здесь 3 оператора: один внутри `if`, второй - конструкция `if` внутри `else`,
третий - во внутреннем `if`.

### Тернарные операции
**Тернарная условная операция** имеет 3 аргумента и возвращает свой второй или третий операнд 
в зависимости от значения логического выражения, заданного первым операндом.
#### Шаблон тернарной операции
````C
 Условие ? Выражение1 : Выражение2;
````
Если выполняется **Условие**, то тернарная операция возвращает **Выражение1**, в противном случае - **Выражение2**.     

~~N3~~   
Тернарные операции, как и операции условия, могут быть вложенными. 
Для  разделения вложенных операций используются круглые скобки.      
Рассмотрим на уже знакомом нам примере:
````C
void f(int a) {
    (a == 0) ? goHome() : f(newValue(a));
}
````